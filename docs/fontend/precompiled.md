# 预编译
通常我们在编写JS代码时,出现语法错误会第一时间报出来,或者在ES6规范之前，还是用var用作变量声明的时候，会有变量提升这个说法，
由此引出一个概念  `预编译`

## JS编译顺序
一、语法分析（检查代码是否存在语法错误）；

二、预编译（代码执行之前，在内存中开辟空间，存放变量与函数）；  

三、解释执行（执行JS代码）
## 预编译流程
1、创建AO/GO对象

就是隐式的创建一个AO（Activation Object）空对象。

2、查找形参和变量声明，将形参名和变量名作为AO对象的属性，值为undefined

注意此处是变量声明（必须带var），只是查找形参名和变量声明名不赋值。

3、将形参与实参统一也就是赋值

即修改AO对象中属性名为形参的值为传入的实参，如果没有形参此步略过。

4、查找函数声明，函数名作为AO对象的属性，函数体作为的值

此处是函数声明，而非匿名函数和函数表达式。

最终，进行代码逻辑的依次执行，值得注意的是  

```javascript
var a=1 
```
此类在声明的同时，为变量赋值的，在AO寻找变量时，会先在AO声明变量为undefined,但是赋值，需要在完成前4部之后，最后执行时才会发生

## 示例
```javascript
function test(a){
    console.log(a)
    var a=123;
    console.log(a)
    function a(){}
    var b=function(){}
    function d(){}
}

test(1)

所以预编译的顺序为
1.AO:{
    a:undefined
    b:undefined
}
2.AO:{
    a:1
}
3.AO:{
    a:1,
    d:function()
}
执行
```

